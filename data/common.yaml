---
lookup_options:
  gitea::custom_configuration:
    merge: deep

gitea::manage_service: true
gitea::manage_user: true
gitea::manage_group: true
gitea::manage_home: true
gitea::owner: 'git'
gitea::group: 'git'
gitea::umask: '0027'
gitea::home: ~
gitea::proxy: ~
gitea::base_url: 'https://dl.gitea.io/gitea'
gitea::ensure: 'installed'
gitea::run_path: '/run/gitea'
gitea::work_path: '/opt/gitea'
gitea::app_data_path: "%{lookup('gitea::work_path')}/data"
gitea::default_configuration:
  server:
    APP_DATA_PATH: "%{lookup('gitea::app_data_path')}"
  repository:
    ROOT: "%{lookup('gitea::app_data_path')}/gitea-repositories"
  database:
    DB_TYPE: 'sqlite3'
    LOG_SQL: 'false'
  security:
    INSTALL_LOCK: 'true'
  actions:
    ENABLED: 'true'
    DEFAULT_ACTIONS_URL: 'github'
  log:
    logger.router.MODE: ~
gitea::custom_configuration: {}
gitea::service_epp: 'gitea/systemd.epp'
gitea::tmpfile_epp: 'gitea/tmpfile.epp'
gitea::robots_txt: ''

gitea::install::packages:
  - 'curl'
  - 'git'
  - 'tar'

gitea::runner::default_configuration:
  log:
    level: info
  runner:
    file: .runner
    capacity: 1
    envs:
      A_TEST_ENV_NAME_1: a_test_env_value_1
      A_TEST_ENV_NAME_2: a_test_env_value_2
    env_file: .env
    timeout: 3h
    shutdown_timeout: 0s
    insecure: true
    fetch_timeout: 5s
    fetch_interval: 2s
    github_mirror: ''
  labels:
    - "self-hosted:host"
    - "jdk:docker://azul/zulu-openjdk:21"
  cache:
    enabled: true
    dir: ""
    host: ""
    port: 0
    external_server: ""

  container:
    network: ""
    privileged: false
    options:
    workdir_parent:
    valid_volumes: []
    docker_host: ""
    force_pull: true
    force_rebuild: false
    require_docker: false
    docker_timeout: 0s
  host:
    workdir_parent: "/opt/gitea/runner-cache/act"

gitea::runner::custom_configuration: {}
gitea::runner::owner: git
gitea::runner::group: git
gitea::runner::path: "/opt/gitea/runner"
gitea::runner::version: "0.2.13"
gitea::runner::gitea_url: http://localhost:3000